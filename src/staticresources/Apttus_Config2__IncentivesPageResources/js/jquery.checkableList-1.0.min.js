/*
 *  Project: Incentives
 *  Description: can be applied to list of checkable items tracking checked state as well as the values of the checked items
 *  Dependencies: jQuery 
 *  Author: Ian Gallagher - Apttus
 *  License:
 */
(function(d,k,l,g){function f(a,e){this.element=a;this.settings=d.extend({},h,e);this._defaults=h;this._name="checkableList";this.data={checkedItems:[]};this.init()}var h={onSomeChecked:function(a,e){},onNoneChecked:function(a){},onAllChecked:function(a){},dataSourceType:null,dataElementSelector:null};d.extend(f.prototype,{init:function(){var a=d(this.element),e=this.settings,b=a.closest(e.parentContainer).find(e.checkBoxListSelector),c=this;c._updateData(c,b.find(":checkbox:checked"));a.on("change",
function(){a.is(":checked")?(b.find(":checkbox").prop("checked",!0),e.onAllChecked(b)):(b.find(":checkbox").prop("checked",!1),e.onNoneChecked(b));c._updateData(c,b.find(":checkbox:checked"))});b.find(":checkbox").on("change",function(){var d=b.find(":checkbox:checked");if(0===d.length)a.prop("checked",!1),e.onNoneChecked(b);else{if(b.find(":checkbox").length===d.length){a.prop("checked",!0);e.onAllChecked(b);c._updateData(c,d);return}a.prop("checked",!1);e.onSomeChecked(this,b)}c._updateData(c,d)})},
_updateData:function(a,e){a.data.checkedItems=[];null!==a.settings.dataSourceType&&e.each(function(b){var c;b=a.settings;switch(b.dataSourceType){case "HiddenInput":c=d(this).closest(b.checkBoxListSelector).find(b.dataElementSelector).val();break;case "DataAttribute":c=d(this).data(b.dataElementSelector);break;case "HTMLContent":c=d(this).closest(b.checkBoxListSelector).find(b.dataElementSelector).html()}a.data.checkedItems.push(c)})},getData:function(){return this.data.checkedItems}});d.fn.checkableList=
function(a){var e=arguments;if(a===g||"object"===typeof a)return this.each(function(){d.data(this,"plugin_checkableList")||d.data(this,"plugin_checkableList",new f(this,a))});if("string"===typeof a&&"_"!==a[0]&&"init"!==a){var b;this.each(function(){var c=d.data(this,"plugin_checkableList");c instanceof f&&"function"===typeof c[a]&&(b=c[a].apply(c,Array.prototype.slice.call(e,1)));"destroy"===a&&d.data(this,"plugin_checkableList",null)});return b!==g?b:this}}})(jQuery,window,document);