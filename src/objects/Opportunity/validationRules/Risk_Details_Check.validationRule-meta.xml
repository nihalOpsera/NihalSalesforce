<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Risk_Details_Check</fullName>
    <active>true</active>
    <description>If one field on the Risk section is filled, you need to fill all the Risk fields</description>
    <errorConditionFormula>AND(
   OR( ISCHANGED(Risk_Categories__c) , ISCHANGED(Risk_Rating__c) , ISCHANGED(Risk_type__c) ),
										OR(
			   AND(
						   OR( ISPICKVAL(Risk_Categories__c,&apos;&apos;) , ISPICKVAL(Risk_Rating__c,&apos;&apos;) , ISPICKVAL(Risk_type__c,&apos;&apos;)	),
									NOT( 
														AND( ISPICKVAL(Risk_Categories__c,&apos;&apos;) , ISPICKVAL(Risk_Rating__c,&apos;&apos;) , ISPICKVAL(Risk_type__c,&apos;&apos;) )
								  )
						),
						AND( 
									OR(AND(ISPICKVAL(Type, &apos;ENT&apos;), Risk_Subtotal__c  &gt;= VALUE($Label.OIF_Upside_and_Risk_Threshold_for_ENT_Opportunities)),
												    AND(ISPICKVAL(Type,&apos;&apos;),Risk_Subtotal__c  &gt;= VALUE($Label.OIF_Upside_and_Risk_Threshold))),
									ISPICKVAL(Risk_Categories__c,&apos;&apos;),
									ISPICKVAL(Risk_Rating__c,&apos;&apos;),
									ISPICKVAL(Risk_type__c,&apos;&apos;)							
						)
			),
			$Profile.Name&lt;&gt;$Label.Data_Loader_Profile_Name,
		 $Profile.Name&lt;&gt;$Label.System_Admin_Profile 
)</errorConditionFormula>
    <errorMessage>Please fill &quot;Risk Type&quot;, &quot;Risk Rating&quot; and &quot;Risk Categories&quot; fields at Risk Details</errorMessage>
</ValidationRule>
