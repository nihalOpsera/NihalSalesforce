<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Partner_from_Opportunity_Account</fullName>
    <active>true</active>
    <description>Partner Should be from Same account of Opportunity</description>
    <errorConditionFormula>AND( 
(RecordTypeId == $Label.Create_Indirect_Sales_Opportunity), 
NOT( ISBLANK( PRMPartner_User_Name__c ) ), 
PRMPartner_User_Name__r.Contact.AccountId &lt;&gt; Account.Id, 
NOT( 
OR( 
ISPICKVAL( Lead_Type__c ,&apos;Distributor Deal Registration&apos; ), 
ISPICKVAL( Lead_Type__c ,&apos;Indirect Deal Registration&apos; ), 
ISPICKVAL( Lead_Type__c , &apos;Reseller Deal Registration&apos;) 
) 
) , 
CONTAINS(PRMPartner_User_Name__r.Profile.Name, &apos;PRM Partner&apos;),
NOT( 
$Profile.Name = &apos;Data Loader Profile&apos; 
) 
)</errorConditionFormula>
    <errorDisplayField>PRMPartner_User_Name__c</errorDisplayField>
    <errorMessage>Please select correct Partner User Name from Same Account.</errorMessage>
</ValidationRule>
