<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>AccountRoleMandatory</fullName>
    <active>true</active>
    <errorConditionFormula>AND(
		$Profile.Name != &quot;Data Loader Profile&quot;,
		ISBLANK(TEXT(Account_Role__c)),
		OR(
			RecordType.DeveloperName == &apos;Indirect_Record_Type&apos;,
			AND(
				RecordType.DeveloperName == &apos;Pre_opportunity&apos;,
				End_Customer_LE__c != null
			)
		),
		NOT(
			OR(
				AND(ISNEW(),Lead_ID__c != null),
				AND(count_offer__c  == 1 , PRIORVALUE(count_offer__c) == 0, Lead_ID__c != null)
			)
		)
	)</errorConditionFormula>
    <errorDisplayField>Account_Role__c</errorDisplayField>
    <errorMessage>Account Role is a mandatory field.</errorMessage>
</ValidationRule>
