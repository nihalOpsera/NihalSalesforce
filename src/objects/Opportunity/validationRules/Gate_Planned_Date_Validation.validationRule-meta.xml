<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Gate_Planned_Date_Validation</fullName>
    <active>true</active>
    <description>Requirement :3784- Merge Sales Process VRs #2
Req 4371: G6 Planned Date should never be blank.</description>
    <errorConditionFormula>AND( 
OR( 
	AND( 
		OR( 
		ISCHANGED(G3_Planned_Date__c ), 
		ISNEW() 
		), 
		OR( 
		AND(
		!ISBLANK(G4_Planned_Date__c),
		G3_Planned_Date__c &gt; G4_Planned_Date__c		
		),
                OR(
		G3_Planned_Date__c &lt; Today(),
                G3_Planned_Date__c &gt; G5_Planned_Date__c
                ) 
		) 
	), 
	AND( 
		!ISBLANK(G4_Planned_Date__c),
		OR( 
		ISCHANGED(G4_Planned_Date__c ), 
		ISNEW() 
		), 
		OR( 
		G4_Planned_Date__c &gt; G5_Planned_Date__c, 
		G4_Planned_Date__c &lt; G3_Planned_Date__c, 
		G4_Planned_Date__c &lt; Today() 
		) 
	), 
	AND( 
		OR( 
		ISCHANGED(G5_Planned_Date__c ), 
		ISNEW() 
		),  
		OR( 
		AND(
		!ISBLANK(G4_Planned_Date__c),
		G5_Planned_Date__c &lt; G4_Planned_Date__c		
		),
                OR(
	        G5_Planned_Date__c &lt; G3_Planned_Date__c,
		G5_Planned_Date__c &lt; Today() 
                )
		) 
	), 
	AND( 
		ISCHANGED(G6_Planned_Date__c ), 
		OR(
		ISPICKVAL( StageName , &apos;Handover (Prepare for Delivery)&apos;), 
		ISPICKVAL( StageName , &apos;Execute (Start Delivery)&apos;),
		ISPICKVAL( StageName , &apos;Completed&apos;)
		),
		OR( 
			G6_Planned_Date__c &lt; G5_Planned_Date__c,	
			G6_Planned_Date__c &lt; Today(), 
			ISBLANK(G6_Planned_Date__c) 
		) 
	) 
), 
$Profile.Name&lt;&gt;$Label.Data_Loader_Profile_Name, 
OR( 
RecordType.DeveloperName == &apos;Direct_Record_Type&apos;, 
RecordType.DeveloperName == &apos;Indirect_Record_Type&apos; 
) 
)</errorConditionFormula>
    <errorMessage>The Gate Planned Date entered is either blank, in the past, precedes the date entered for the previous gate or exceeds the date entered for the following gate.</errorMessage>
</ValidationRule>
