<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Upside_Details_Check</fullName>
    <active>true</active>
    <description>If one field on the Upside section is filled, you need to fill all the Upside fields</description>
    <errorConditionFormula>AND(
   OR( ISCHANGED(Upside_Categories__c) , ISCHANGED(Upside_Rating__c) 
			),
   OR(
			   AND(
						   OR( ISPICKVAL(Upside_Categories__c,&apos;&apos;), ISPICKVAL(Upside_Rating__c,&apos;&apos;)	),
									NOT( 
														AND( ISPICKVAL(Upside_Categories__c,&apos;&apos;), ISPICKVAL(Upside_Rating__c,&apos;&apos;) )
									)
						),
						AND(
										OR(AND(ISPICKVAL(Type, &apos;ENT&apos;), Upside_Subtotal__c  &gt;= VALUE($Label.OIF_Upside_and_Risk_Threshold_for_ENT_Opportunities)),
												    AND(ISPICKVAL(Type, &apos;&apos;),Upside_Subtotal__c  &gt;= VALUE($Label.OIF_Upside_and_Risk_Threshold)))										
										,
									ISPICKVAL(Upside_Categories__c,&apos;&apos;),
									ISPICKVAL(Upside_Rating__c,&apos;&apos;)							
						)
  ),
  $Profile.Name&lt;&gt;$Label.Data_Loader_Profile_Name,
		$Profile.Name&lt;&gt;$Label.System_Admin_Profile 
)</errorConditionFormula>
    <errorMessage>Please fill &quot;Upside Rating&quot; and &quot;Upside Categories&quot; fields at Upside Details</errorMessage>
</ValidationRule>
