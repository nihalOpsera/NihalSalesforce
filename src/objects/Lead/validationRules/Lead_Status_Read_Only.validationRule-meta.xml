<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Lead_Status_Read_Only</fullName>
    <active>true</active>
    <description>Req#2161 Lead Status &quot;Read Only&quot;</description>
    <errorConditionFormula>AND(
NOT(
OR(
$Profile.Name = &apos;System Administrator&apos;,
$Profile.Name = &apos;Data Loader Profile&apos;,
$Profile.Name = &apos;Nokia Admin Profile&apos;,
$Profile.Name = &apos;Global Process Admin Profile&apos;	
)
),
OR(
RecordType.Name = &apos;Distributor Deal Registration&apos;,
RecordType.Name = &apos;Indirect Deal Registration&apos;,
RecordType.Name = &apos;Reseller Deal Registration&apos;
),
AND(
$Permission.PRM_PSM_Permission = FALSE,
$Permission.PRM_Deal_Registration_Permission = FALSE
),
OR(
AND(
ISCHANGED(Status),
NOT(AND(PRIORVALUE(Status) = &apos;Approved&apos;,
ISPICKVAL(Status, &apos;Closed - Converted (Qualified)&apos;)))
),
AND(	
NOT(ISPICKVAL(Status, &apos;Open&apos;)),
ISNEW()
)
)
)</errorConditionFormula>
    <errorDisplayField>Status</errorDisplayField>
    <errorMessage>You can&apos;t Change the Lead Status Manually</errorMessage>
</ValidationRule>
