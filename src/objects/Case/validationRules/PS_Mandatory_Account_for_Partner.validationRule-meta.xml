<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>PS_Mandatory_Account_for_Partner</fullName>
    <active>true</active>
    <description>The account field is mandatory if the issue reported by is a non-nokia user/partner user.</description>
    <errorConditionFormula>IF(ISBLANK(Issue_Reported_By__c),
AND(
    RecordType.Name = &apos;Partner Support&apos;,
				NOT($Profile.Name = &quot;Data Loader Profile&quot;),
    ISBLANK(AccountId),
    NOT(
        OR(
            CONTAINS(LOWER(SuppliedEmail), &apos;nokia.com&apos;), 
		    CONTAINS(LOWER(SuppliedEmail), &apos;nokia-sbell.com&apos;)
            ) 
        )
    ), 
AND(
    RecordType.Name = &apos;Partner Support&apos;,
				NOT($Profile.Name = &quot;Data Loader Profile&quot;),
    ISBLANK(AccountId),
    NOT(
		OR(
			CONTAINS(LOWER(Issue_Reported_By__r.Email), &apos;nokia.com&apos;),
			CONTAINS(LOWER(Issue_Reported_By__r.Email), &apos;nokia-sbell.com&apos;)	
			) 
		)
    )
)</errorConditionFormula>
    <errorDisplayField>AccountId</errorDisplayField>
    <errorMessage>Account Name is Mandatory if the issue is reported for non-Nokia users.</errorMessage>
</ValidationRule>
