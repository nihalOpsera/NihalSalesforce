<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Notification_to_Partner_user_on_claim_rejection</fullName>
        <ccEmails>partner.support@nokia.com</ccEmails>
        <description>Notification to Partner user on claim rejection</description>
        <protected>false</protected>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Claim_Has_Been_Denied</template>
    </alerts>
    <alerts>
        <fullName>Notification_to_Partner_user_when_claim_is_expired</fullName>
        <ccEmails>partner.support@nokia.com</ccEmails>
        <description>Notification to Partner user when claim is expired</description>
        <protected>false</protected>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Owner__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Nokia_Co_op_Program_Claim_HAS_EXPIRED</template>
    </alerts>
    <alerts>
        <fullName>Send_notication_to_Partner_user_when_escalated</fullName>
        <ccEmails>partner.support@nokia.com</ccEmails>
        <description>Send notication to Partner user when escalated</description>
        <protected>false</protected>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Escalation_User_Manager1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Escalation_User_Manager__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Claim_Has_Been_HELD_ON_AUDIT_and_ESCALATED_TO_NOKIA</template>
    </alerts>
    <alerts>
        <fullName>Send_notification_when_15_days_remains_to_expire</fullName>
        <ccEmails>partner.support@nokia.com; corina.vatav@nokia.com</ccEmails>
        <description>Send notification when 15 days remains to expire</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/claim_Period_15_DAYS_EXPIRATION_NOTICE</template>
    </alerts>
    <alerts>
        <fullName>Send_notification_when_30_days_remains_to_expire</fullName>
        <ccEmails>partner.support@nokia.com; corina.vatav@nokia.com</ccEmails>
        <description>Send notification when 30 days remains to expire</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/claim_Period_30_DAYS_EXPIRATION_NOTICE</template>
    </alerts>
    <alerts>
        <fullName>Send_notification_when_Partner_User_submitted_the_claim</fullName>
        <ccEmails>partner.support@nokia.com</ccEmails>
        <description>Send notification when Partner User submitted the claim</description>
        <protected>false</protected>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Claim_Has_Been_Received_by_the_Nokia_Co_op_Program_Helpdesk</template>
    </alerts>
    <alerts>
        <fullName>Send_notification_when_claim_is_approved</fullName>
        <ccEmails>partner.support@nokia.com</ccEmails>
        <description>Send notification when claim is approved</description>
        <protected>false</protected>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Claim_Approved_for_Reimbursement</template>
    </alerts>
    <alerts>
        <fullName>Send_notification_when_claim_is_in_HFLOF</fullName>
        <ccEmails>partner.support@nokia.com</ccEmails>
        <description>Send notification when claim is in HFLOF</description>
        <protected>false</protected>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Claim_Reimbursement_Held_for_Lack_of_Funds</template>
    </alerts>
    <alerts>
        <fullName>Send_notification_when_claim_is_incomplete</fullName>
        <ccEmails>partner.support@nokia.com</ccEmails>
        <description>Send notification when claim is incomplete</description>
        <protected>false</protected>
        <recipients>
            <field>Activity_Approver_Level_1__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_2__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Activity_Approver_Level_3__c</field>
            <type>userLookup</type>
        </recipients>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Claim_is_INCOMPLETE_YOUR_ACTION_IS_REQUIRED</template>
    </alerts>
    <alerts>
        <fullName>Send_notification_when_claim_is_reimbursed</fullName>
        <ccEmails>corina.vatav@nokia.com</ccEmails>
        <description>Send notification when claim is reimbursed</description>
        <protected>false</protected>
        <recipients>
            <field>Claim_Submitted_By__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>nokia_global_partner_communications@nokia.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PRM_Co_op_Email_Templates/Claim_status_equals_Reimbursed</template>
    </alerts>
    <fieldUpdates>
        <fullName>claim_status_update_to_rejected</fullName>
        <field>Claim_Status__c</field>
        <literalValue>Rejected</literalValue>
        <name>claim status update to rejected</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>update_claim_incomplete_date</fullName>
        <field>Incomplete_Date__c</field>
        <formula>Now()</formula>
        <name>update claim incomplete date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Send notification when claim is reimbursed</fullName>
        <actions>
            <name>Send_notification_when_claim_is_reimbursed</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Claim__c.Claim_Status__c</field>
            <operation>equals</operation>
            <value>Reimbursed</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update Claim to Rejected</fullName>
        <actions>
            <name>update_claim_incomplete_date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Claim__c.Claim_Status__c</field>
            <operation>equals</operation>
            <value>Incomplete</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>claim_status_update_to_rejected</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Claim__c.Incomplete_Date__c</offsetFromField>
            <timeLength>30</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
</Workflow>
